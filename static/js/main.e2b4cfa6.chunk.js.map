{"version":3,"sources":["redux/dialogs-reducer.js","components/NavBar/NavBar.module.css","components/Users/Users.module.css","assets/images/user-icon-small-size.png","assets/images/aug-4-2017-6-11-pm.gif","components/common/FormsControls/FormsControls.js","serviceWorker.js","components/NavBar/NavBar.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","api/api.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","length","module","exports","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","Input","createField","placeholder","validators","component","text","validate","Boolean","window","location","hostname","match","NavBar","style","nav","item","activeClassName","activeLink","to","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","el","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","data","resultCode","usersReducer","followed","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagesNumbers","onClick","p","cn","selectedPage","event","User","user","unfollow","follow","usersImg","src","photos","small","userPhoto","alt","disabled","some","status","Users","key","getUsers","createSelector","usersPage","u","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","this","Preloader","React","Component","compose","connect","usersAPI","followUsers","bind","unfollowUsers","page","res","totalCount","Header","header","loginBlock","isAuth","login","logout","email","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","authAPI","me","getCaptchaUrl","securityAPI","url","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","password","rememberMe","captcha","stopSubmit","_error","formData","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sideBar","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","AppContainer","withRouter","promise","Promise","all","then","AppWithBrowserRouter","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","width","height","value","maxLengthCreator","maxLength","instance","axios","withCredentials","baseURL","headers","get","post","delete","profileAPI","getUserProfile","getStatus","updateStatus","put","savePhoto","photoFile","FormData","append","saveProfile","profile","posts","likesCount","addPostActionCreator","newPostText","setStatus","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.e2b4cfa6.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n  messages: [\r\n    {id: 1, message: \"Hi\"},\r\n    {id: 2, message: \"How ara you?\"},\r\n    {id: 3, message: \"Yooo!!!\"},\r\n    {id: 4, message: \"Yooo!!!\"},\r\n    {id: 5, message: \"Yooo!!!\"}\r\n  ],\r\n  dialogs: [\r\n    {id: 1, name: \"Dimych\"},\r\n    {id: 2, name: \"Andrey\"},\r\n    {id: 3, name: \"Sveta\"},\r\n    {id: 4, name: \"Sasha\"},\r\n    {id: 5, name: \"Victor\"},\r\n    {id: 6, name: \"Valera\"}\r\n  ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody;\r\n      return {...state,\r\n        messages: [...state.messages, {id: state.messages.length + 1, message: body}]};\r\n    default :\r\n      return state;\r\n  }\r\n};\r\n\r\n  export const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n\r\n  export default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1UhT2\",\"activeLink\":\"NavBar_activeLink__1R3aW\",\"item\":\"NavBar_item__3dpCw\",\"active\":\"NavBar_active__2aSST\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersImg\":\"Users_usersImg__3lEFY\"};","module.exports = __webpack_public_path__ + \"static/media/user-icon-small-size.b6e9713a.png\";","module.exports = __webpack_public_path__ + \"static/media/aug-4-2017-6-11-pm.408292d8.gif\";","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n      <div>\r\n        {children}\r\n      </div>\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n  const {input, meta, children, ...restProps} = props;\r\n  return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const {input, meta, children, ...restProps} = props;\r\n  return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n  <div>\r\n    <Field\r\n      placeholder={placeholder}\r\n      name={name}\r\n      component={component}\r\n      validate={validators}\r\n      {...props}/> {text}\r\n  </div>\r\n);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport style from \"./NavBar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <nav className={style.nav}>\r\n      <div>\r\n        <NavLink className={style.item} activeClassName={style.activeLink} to=\"/profile\">Profile</NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink className={style.item + ' ' + style.active} activeClassName={style.activeLink} to=\"/dialogs\">Messages</NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink className={style.item} activeClassName={style.activeLink} to=\"/users\">Users</NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink className={style.item} activeClassName={style.activeLink} to=\"/news\">News</NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink className={style.item} activeClassName={style.activeLink} to=\"/music\">Music</NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink className={style.item} activeClassName={style.activeLink} to=\"/settings\">Settings</NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default NavBar;","\r\n\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map(el => {\r\n    if (el[objPropName] === itemId) {\r\n      return {...el, ...newObjProps}\r\n    }\r\n    return el;\r\n  })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users,\r\n          action.userId, \"id\", {followed: true})\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users,\r\n          action.userId, \"id\", {followed: false})\r\n      };\r\n    case SET_USERS:\r\n      return {...state, users: action.users};\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {...state, currentPage: action.currentPage};\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {...state, totalUsersCount: action.totalUsersCount};\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching};\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching ?\r\n          [...state.followingInProgress, action.userId] :\r\n          state.followingInProgress.filter(id => id !== action.userId)\r\n      };\r\n\r\n    default :\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    const res = await usersAPI.getUsers(page, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(res.data.items));\r\n    dispatch(setTotalUsersCount(res.data.totalCount));\r\n  };\r\n};\r\n\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  const res = await apiMethod(userId);\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.followUsers.bind(usersAPI), followSuccess)\r\n  };\r\n};\r\n\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollowUsers.bind(usersAPI), unfollowSuccess)\r\n  };\r\n};\r\n\r\nexport default usersReducer;","import React, {useState} from 'react';\nimport style from './Paginator.module.css';\nimport cn from 'classnames';\n\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n  let portionCount = Math.ceil(pagesCount / portionSize);\n  let [portionNumber, setPortionNumber] = useState(1);\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionPageNumber = portionNumber * portionSize;\n\n  return <div className={style.pagesNumbers}>\n    {portionNumber > 1 &&\n    <button onClick={() => {setPortionNumber(portionNumber - 1)} }>Prev</button>}\n      {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n        .map(el => {\n          return <span className={cn({\n            [style.selectedPage]: currentPage === el\n          }, style.pagesNumbers)}\n                onClick={(event) => (\n                  onPageChanged(el))}>{el}</span>\n        })}\n    {portionCount > portionNumber &&\n    <button onClick={() => {setPortionNumber(portionNumber + 1)}}>Next</button>}\n    </div>\n};\n\nexport default Paginator;","import React from 'react';\nimport style from './Users.module.css';\nimport userPhoto from '../../assets/images/user-icon-small-size.png';\nimport {NavLink} from \"react-router-dom\";\n\nlet User = ({user, followingInProgress, unfollow, follow}) => {\n  return (\n    <div>\n        <span>\n          <div>\n            <NavLink to={'/profile/' + user.id}>\n            <img className={style.usersImg}\n                 src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"\"/>\n            </NavLink>\n          </div>\n          <div>\n            {user.followed ?\n              <button disabled={followingInProgress.some(id => id === user.id)}\n                      onClick={() => {\n                        unfollow(user.id)\n                      }}>Unfollow</button> :\n              <button disabled={followingInProgress.some(id => id === user.id)}\n                      onClick={() => {\n                        follow(user.id)\n                      }}>Follow</button>}\n          </div>\n        </span>\n      <span>\n          <span>\n           <div>{user.name}</div>\n           <div>{user.status}</div>\n          </span>\n          <span>\n           <div>{\"user.location.country\"}</div>\n           <div>{\"user.location.city\"}</div>\n          </span>\n        </span>\n    </div>\n  );\n};\n\nexport default User;","import React from 'react';\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\n  return (\n    <div>\n      <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\n                 totalItemsCount={totalUsersCount} pageSize={pageSize}/>\n      <div>\n        {users.map(el => <User key={el.id}\n                               user={el}\n                               followingInProgress={props.followingInProgress}\n                               unfollow={props.unfollow}\n                               follow={props.follow}/>)\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsersSelector = state => state.usersPage.users;\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => users.filter(u => true));\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n};","import React from 'react';\nimport {connect} from 'react-redux';\nimport {\n  follow,\n  requestUsers,\n  setCurrentPage,\n  toggleFollowingProgress,\n  unfollow\n} from '../../redux/users-reducer';\nimport Users from './Users';\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {\n  getUsers,\n  getPageSize,\n  getTotalUsersCount,\n  getCurrentPage,\n  getIsFetching,\n  getFollowingInProgress\n} from \"../../redux/users-selectors\";\n\nclass UsersContainer extends React.Component {\n\n  componentDidMount() {\n    const {currentPage, pageSize} = this.props;\n    this.props.requestUsers(currentPage, pageSize);\n  };\n\n  onPageChanged = (pageNumber) => {\n    const {pageSize} = this.props;\n    this.props.requestUsers(pageNumber, pageSize)\n  };\n\n  render() {\n    return <>\n      {this.props.isFetching ? <Preloader/> : null}\n      <Users totalUsersCount={this.props.totalUsersCount}\n             pageSize={this.props.pageSize}\n             currentPage={this.props.currentPage}\n             users={this.props.users}\n             onPageChanged={this.onPageChanged}\n             follow={this.props.follow}\n             unfollow={this.props.unfollow}\n             followingInProgress={this.props.followingInProgress}\n      />\n    </>\n  };\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state)\n  };\n};\n\nexport default compose(connect(mapStateToProps, {\n  follow,\n  unfollow,\n  setCurrentPage,\n  toggleFollowingProgress,\n  requestUsers\n}))(UsersContainer);","import React from \"react\";\r\nimport styles from \"./Header.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <img src=\"https://thequietsite.co.uk/wp-content/uploads/2019/05/tqs_logo_WhtGreen-1.png\" alt=\"\"/>\r\n      <div className={styles.loginBlock}>\r\n        {props.isAuth ?\r\n          <div>{props.login} - <button onClick={props.logout}>Log out</button></div> :\r\n          <NavLink to={'/login'}>Login</NavLink>}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import {authAPI, profileAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    default :\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) =>\r\n  ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) =>\r\n  ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  const res = await authAPI.me();\r\n  if (res.data.resultCode === 0) {\r\n    let {id, email, login} = res.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n  const res = await authAPI.login(email, password, rememberMe, captcha);\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    if (res.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n    let message = res.data.messages.length > 0 ? res.data.messages[0] : \"Some error\";\r\n    dispatch(stopSubmit(\"login\", {_error: message}));\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const res = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = res.data.url;\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const res = await authAPI.logout();\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  };\r\n}\r\n\r\nconst mapStateToProps = (state) => ({isAuth: state.auth.isAuth, login: state.auth.login});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"./../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField(\"Email\", \"email\", [required], Input)}\r\n      {createField(\"Password\", \"password\", [required], Input,\r\n        {type: \"password\"})}\r\n\r\n      {createField(null, \"rememberMe\", [], Input,\r\n        {type: \"checkbox\"}, \" remember me\")}\r\n\r\n      {captchaUrl && <img src={captchaUrl} />}\r\n      {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {})}\r\n\r\n      {error && <div className={styles.formSummaryError}>{error}</div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"}/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  captchaUrl: state.auth.captchaUrl,\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      };\r\n    default :\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n  Promise.all([promise])\r\n    .then(() => {\r\n      dispatch(initializedSuccess());\r\n    });\r\n};\r\n\r\nexport default appReducer;","\r\n\r\nlet initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from  \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sideBar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return <React.Suspense fallback={<Preloader/>}>\r\n      <Component {...props} />\r\n    </React.Suspense>\r\n  }\r\n};","import React, {Component} from \"react\";\nimport {Redirect, Route, Switch, withRouter, HashRouter} from \"react-router-dom\";\nimport \"./App.css\";\nimport NavBar from \"./components/NavBar/NavBar\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\n\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  };\n\n  render() {\n    if (!this.props.initialized) return <Preloader/>\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer/>\n        <NavBar/>\n        <div className=\"app-wrapper-content\">\n          <Switch>\n            <Route exact path=\"/\" render={() => <Redirect to=\"/profile\" />} />\n            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\n            <Route path=\"/profile/:userId?\" render={  withSuspense(ProfileContainer)} />\n            <Route path=\"/users\" render={() => <UsersContainer/>}/>\n            <Route path=\"/login\" render={() => <LoginPage/>}/>\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({initialized: state.app.initialized});\n\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App);\n\nconst AppWithBrowserRouter = (props) => {\n  return <HashRouter>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </HashRouter>\n};\n\nexport default AppWithBrowserRouter;","import * as serviceWorker from \"./serviceWorker\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport AppWithBrowserRouter from \"./App\";\n\n\nReactDOM.render(<AppWithBrowserRouter/>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport preloader from \"../../../assets/images/aug-4-2017-6-11-pm.gif\";\r\n\r\n\r\nlet Preloader = (props) => {\r\n  return <div>\r\n    <img src={preloader} style={{width: '150px', height: '150px'}}/>\r\n  </div>;\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3UYJx\",\"error\":\"FormsControls_error__2349f\",\"formSummaryError\":\"FormsControls_formSummaryError__2f056\"};","export  const required = value => {\r\n  if (value) return undefined;\r\n\r\n  return \"Field is required\";\r\n};\r\n\r\nexport  const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n  return undefined;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagesNumbers\":\"Paginator_pagesNumbers__3CEOl\",\"selectedPage\":\"Paginator_selectedPage__3h1Ka\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"5ac078f7-4935-4223-bad6-63f58b80cd23\"\r\n  }\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n  },\r\n  followUsers(id) {\r\n    return instance.post(`follow/${id}`, {})\r\n  },\r\n  unfollowUsers(id) {\r\n    return instance.delete(`follow/${id}`)\r\n  }\r\n};\r\n\r\nexport const profileAPI = {\r\n  getUserProfile(userId) {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, {status: status});\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: {\"Content-Type\": \"multipart/form-data\"}\r\n    });\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile);\r\n  }\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  }\r\n};\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`);\r\n  }\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2OWx2\",\"loginBlock\":\"Header_loginBlock__2tdem\"};","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id: 1, message: \"Hi, how are you?\", likesCount: 12},\r\n    {id: 2, message: \"It's my first post\", likesCount: 11}\r\n  ],\r\n  profile: null,\r\n  status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: state.posts.length + 1,\r\n        message: action.newPostText,\r\n        likesCount: 0\r\n      };\r\n      return {...state, posts: [...state.posts, newPost], newPostText: ''};\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return {...state, profile: action.profile};\r\n    }\r\n    case SET_STATUS: {\r\n      return {...state, status: action.status};\r\n    }\r\n    case DELETE_POST: {\r\n      return {...state, posts: state.posts.filter(el => el.id !== action.postId)};\r\n    }\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return {...state, profile: {...state.profile, photos: action.photos}};\r\n    }\r\n    default :\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  const res = await profileAPI.getUserProfile(userId);\r\n  dispatch(setUserProfile(res.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const res = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(res.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const res = await profileAPI.updateStatus(status);\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  const res = await profileAPI.savePhoto(file);\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(res.data.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const res = await profileAPI.saveProfile(profile);\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(getUserProfile(userId));\r\n  } else {\r\n    dispatch(stopSubmit(\"edit-profile\", {_error: res.data.messages[0]}));\r\n    return Promise.reject(res.data.messages[0]);\r\n  }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}